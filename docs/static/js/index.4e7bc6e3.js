(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./doc-src/index.mdx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./node_modules/@mdx-js/react/dist/index.es.js"),c=n("./node_modules/docz/dist/index.esm.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),d=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),l=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),u=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),f=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),v=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{style:{position:"fixed",width:100,right:0,marginTop:-40},ref:"codepen"},a.a.createElement("a",{href:this.props.link,className:"github-corner","aria-label":"View source on Github"},a.a.createElement("svg",{viewBox:"0 0 250 250","aria-hidden":"true",style:{color:"#fff",opacity:.8}},a.a.createElement("path",{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}),a.a.createElement("path",{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor",style:{transformOrigin:"130px 106px"},className:"octo-arm"}),a.a.createElement("path",{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor",className:"octo-body"}))))}}]),t}(o.Component);"undefined"!==typeof v&&v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"_default",filename:"doc-src/components/github.js"}});var p=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js"),h=n.n(p),m=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),b=n("./doc-src/js/glsl-doodle.js"),g=n.n(b),_=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new g.a(this.refs.doodle),!(n=this.props.fragment)){e.next=5;break}return e.next=5,t.compile(n);case 5:t.render();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("canvas",{className:"glslDoodle",width:"256",height:"256",ref:"doodle"})}}]),t}(o.Component);"undefined"!==typeof _&&_&&_===Object(_)&&Object.isExtensible(_)&&Object.defineProperty(_,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"_default",filename:"doc-src/components/doodle.js"}}),n.d(t,"default",function(){return w});var x={},y="wrapper";function w(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)(y,Object.assign({},x,n,{components:t,mdxType:"MDXLayout"}),Object(s.b)(v,{link:"https://github.com/akira-cn/glsl-doodle",mdxType:"GitHub"}),Object(s.b)("h1",{id:"glsl-doodle"},"glsl Doodle"),Object(s.b)("p",null,"\u8fd9\u662f Fragment Shaders \u7684\u4e00\u4e2a\u8f7b\u91cf\u5e93\uff0c\u53ef\u4ee5\u7528\u6765\u4f5c\u4e3a WebGL \u5b66\u4e60\u5165\u95e8\uff0c\u4e5f\u53ef\u4ee5\u7528\u5728\u9879\u76ee\u4e2d\u5b9e\u73b0\u9ad8\u6027\u80fd\u7684\u3001\u6709\u8da3\u7684\u56fe\u6848\u548c\u56fe\u5f62\u6548\u679c\u3002"),Object(s.b)("hr",null),Object(s.b)(c.c,{__position:1,__code:"<Doodle\n  fragment={`\n  #ifdef GL_ES\n  precision mediump float;\n  #endif\n  \n  void main() {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  }\n`}\n></Doodle>",__scope:{props:this?this.props:n,Playground:c.c,GitHub:v,Doodle:_},__codesandbox:"undefined",mdxType:"Playground"},Object(s.b)(_,{fragment:"\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    \n    void main() {\n      gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n    }\n  ",mdxType:"Doodle"})))}w&&w===Object(w)&&Object.isExtensible(w)&&Object.defineProperty(w,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"doc-src/index.mdx"}}),w.isMDXComponent=!0},"./doc-src/js/glsl-doodle.js":function(e,t,n){var r;window,r=function(){return function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!y[e]||!x[e])return;for(var n in x[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(h[n]=t[n]);0===--b&&0===g&&F()}(e,n),t&&t(e,n)};var n,r=!0,o="d12b9103c14ad9c633ed",a=1e4,s={},c=[],i=[];function d(e){var t=U[e];if(!t)return O;var r=function(r){return t.hot.active?(U[r]?-1===U[r].parents.indexOf(e)&&U[r].parents.push(e):(c=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),c=[]),O(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return O[e]},set:function(t){O[e]=t}}};for(var a in O)Object.prototype.hasOwnProperty.call(O,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(r,a,o(a));return r.e=function(e){return"ready"===f&&v("prepare"),g++,O.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===f&&(_[e]||k(e),0===g&&0===b&&F())}},r.t=function(e,t){return 1&t&&(e=r(e)),O.t(e,-2&t)},r}function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"===typeof e)t._selfAccepted=e;else if("object"===typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"===typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:D,apply:E,status:function(e){if(!e)return f;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:s[e]};return n=void 0,t}var u=[],f="idle";function v(e){f=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var p,h,m,b=0,g=0,_={},x={},y={};function w(e){return+e+""===e?+e:e}function D(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return r=e,v("check"),(t=a,t=t||1e4,new Promise(function(e,n){if("undefined"===typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,a=O.p+""+o+".hot-update.json";r.open("GET",a,!0),r.timeout=t,r.send(null)}catch(s){return n(s)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(o){return void n(o)}e(t)}}})).then(function(e){if(!e)return v("idle"),null;x={},_={},y=e.c,m=e.h,v("prepare");var t=new Promise(function(e,t){p={resolve:e,reject:t}});h={};return k(0),"prepare"===f&&0===g&&0===b&&F(),t});var t}function k(e){y[e]?(x[e]=!0,b++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=O.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):_[e]=!0}function F(){v("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then(function(){return E(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in h)Object.prototype.hasOwnProperty.call(h,n)&&t.push(w(n));e.resolve(t)}}function E(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,r,a,i,d;function l(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),a=o.id,s=o.chain;if((i=U[a])&&!i.hot._selfAccepted){if(i.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:a};if(i.hot._main)return{type:"unaccepted",chain:s,moduleId:a};for(var c=0;c<i.parents.length;c++){var d=i.parents[c],l=U[d];if(l){if(l.hot._declinedDependencies[a])return{type:"declined",chain:s.concat([d]),moduleId:a,parentId:d};-1===t.indexOf(d)&&(l.hot._acceptedDependencies[a]?(n[d]||(n[d]=[]),u(n[d],[a])):(delete n[d],t.push(d),r.push({chain:s.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var p={},b=[],g={},_=function(){console.warn("[HMR] unexpected require("+D.moduleId+") to disposed module")};for(var x in h)if(Object.prototype.hasOwnProperty.call(h,x)){var D;d=w(x);var k=!1,F=!1,E=!1,A="";switch((D=h[x]?l(d):{type:"disposed",moduleId:x}).chain&&(A="\nUpdate propagation: "+D.chain.join(" -> ")),D.type){case"self-declined":t.onDeclined&&t.onDeclined(D),t.ignoreDeclined||(k=new Error("Aborted because of self decline: "+D.moduleId+A));break;case"declined":t.onDeclined&&t.onDeclined(D),t.ignoreDeclined||(k=new Error("Aborted because of declined dependency: "+D.moduleId+" in "+D.parentId+A));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(D),t.ignoreUnaccepted||(k=new Error("Aborted because "+d+" is not accepted"+A));break;case"accepted":t.onAccepted&&t.onAccepted(D),F=!0;break;case"disposed":t.onDisposed&&t.onDisposed(D),E=!0;break;default:throw new Error("Unexception type "+D.type)}if(k)return v("abort"),Promise.reject(k);if(F)for(d in g[d]=h[d],u(b,D.outdatedModules),D.outdatedDependencies)Object.prototype.hasOwnProperty.call(D.outdatedDependencies,d)&&(p[d]||(p[d]=[]),u(p[d],D.outdatedDependencies[d]));E&&(u(b,[D.moduleId]),g[d]=_)}var S,T=[];for(r=0;r<b.length;r++)d=b[r],U[d]&&U[d].hot._selfAccepted&&T.push({module:d,errorHandler:U[d].hot._selfAccepted});v("dispose"),Object.keys(y).forEach(function(e){!1===y[e]&&function(e){delete installedChunks[e]}(e)});for(var P,j,L=b.slice();L.length>0;)if(d=L.pop(),i=U[d]){var C={},R=i.hot._disposeHandlers;for(a=0;a<R.length;a++)(n=R[a])(C);for(s[d]=C,i.hot.active=!1,delete U[d],delete p[d],a=0;a<i.children.length;a++){var I=U[i.children[a]];I&&((S=I.parents.indexOf(d))>=0&&I.parents.splice(S,1))}}for(d in p)if(Object.prototype.hasOwnProperty.call(p,d)&&(i=U[d]))for(j=p[d],a=0;a<j.length;a++)P=j[a],(S=i.children.indexOf(P))>=0&&i.children.splice(S,1);for(d in v("apply"),o=m,g)Object.prototype.hasOwnProperty.call(g,d)&&(e[d]=g[d]);var B=null;for(d in p)if(Object.prototype.hasOwnProperty.call(p,d)&&(i=U[d])){j=p[d];var M=[];for(r=0;r<j.length;r++)if(P=j[r],n=i.hot._acceptedDependencies[P]){if(-1!==M.indexOf(n))continue;M.push(n)}for(r=0;r<M.length;r++){n=M[r];try{n(j)}catch(X){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:d,dependencyId:j[r],error:X}),t.ignoreErrored||B||(B=X)}}}for(r=0;r<T.length;r++){var G=T[r];d=G.module,c=[d];try{O(d)}catch(X){if("function"===typeof G.errorHandler)try{G.errorHandler(X)}catch(H){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:d,error:H,originalError:X}),t.ignoreErrored||B||(B=H),B||(B=X)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:d,error:X}),t.ignoreErrored||B||(B=X)}}return B?(v("fail"),Promise.reject(B)):(v("idle"),new Promise(function(e){e(b)}))}var U={};function O(t){if(U[t])return U[t].exports;var n=U[t]={i:t,l:!1,exports:{},hot:l(t),parents:(i=c,c=[],i),children:[]};return e[t].call(n.exports,n,n.exports,d(t)),n.l=!0,n.exports}return O.m=e,O.c=U,O.d=function(e,t,n){O.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},O.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},O.t=function(e,t){if(1&t&&(e=O(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(O.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)O.d(n,r,function(t){return e[t]}.bind(null,r));return n},O.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return O.d(t,"a",t),t},O.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},O.p="/js/",O.h=function(){return o},d(0)(O.s=0)}([function(e,t,n){var r=n(1).default;r.autoLoad(),e.exports=r},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return V});var r=n(2),o=n.n(r),a=n(6),s=n.n(a),c=n(8),i=n.n(c),d=n(12),l=n.n(d),u=n(13),f=n.n(u),v=n(14),p=n.n(v),h=n(15),m=n.n(h),b=n(16),g=n(17),_=n.n(g),x=n(18),y=n.n(x),w=n(19),D=n.n(w),k=n(20),F=n.n(k),E=n(21),U=n.n(E),O=n(22),A=n.n(O),S=n(23),T=n.n(S),P=n(24),j=n.n(P),L=n(25),C=n.n(L),R=n(26),I=n.n(R),B=n(27),M=n.n(B),G={stdlib:F.a,box:T.a,transform:j.a,graphics:C.a,color:I.a,pattern:M.a,shapes:U.a,shaper:A.a},X=Symbol("renderFeedback"),H=Symbol("autoUpdate"),Y=Symbol("animationFrameID"),N=Symbol("eventHandlers"),q=Symbol("textures");function z(e){return W.apply(this,arguments)}function W(){return(W=m()(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(404!==(n=e.sent).status){e.next=7;break}r=y.a,e.next=10;break;case 7:return e.next=9,n.text();case 9:r=e.sent;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l()(this,e),this.options=Object.assign(n,e.defaultOptions),this.canvas=t,this[N]={};var r=Object(b.setupWebGL)(t,this.options);this.gl=r,r.viewport(0,0,t.width,t.height),r.clearColor(1,1,1,1),this.verticesBuffer=r.createBuffer(),this.cellsBuffer=r.createBuffer(),this.vertices=[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0]],this.cells=[[0,1,3],[3,1,2]]}return f()(e,null,[{key:"autoLoad",value:function(){window.addEventListener("DOMContentLoaded",function(t){document.querySelectorAll("canvas.glsl-doodle").forEach(function(){var t=m()(s.a.mark(function t(n){var r,o,a,c,d,l,u,f;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.getAttribute("data-textures"),o=new e(n),!r){t.next=6;break}return r=r.split(/\s*,\s*/g),t.next=6,o.loadTextures.apply(o,i()(r));case 6:if(a=n.getAttribute("data-fragment-for"),c=n.getAttribute("data-vertex-for"),d=null,l=null,!a){t.next=14;break}d=document.getElementById(a).textContent,t.next=18;break;case 14:return u=n.getAttribute("data-fragment-url")||"./index.glsl",t.next=17,z(u);case 17:d=t.sent;case 18:if(!c){t.next=22;break}l=c.textContent,t.next=27;break;case 22:if(!(f=n.getAttribute("data-vert-url"))){t.next=27;break}return t.next=26,z(f);case 26:l=t.sent;case 27:return t.next=29,o.compile(d,l);case 29:o.render();case 30:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})}}]),f()(e,[{key:"setFeebackContext",value:function(){if(!this.options.preserveDrawingBuffer)throw new Error("Must set preserveDrawingBuffer to true while using feedback mode.");var e;this.feedbackContext||(e="function"===typeof OffscreenCanvas?new OffscreenCanvas(this.canvas.width,this.canvas.height):this.canvas.cloneNode(),this.feedbackContext=e.getContext("2d"));this[X]=!0}},{key:"deleteProgram",value:function(){this.program&&(this.gl.deleteProgram(this.program),this.program=null)}},{key:"clip",value:function(e){var t=e.vertices,n=e.cells,r=this.gl;r.bindBuffer(r.ARRAY_BUFFER,this.verticesBuffer),r.bufferData(r.ARRAY_BUFFER,Object(b.pointsToBuffer)(t),r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.cellsBuffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,Object(b.pointsToBuffer)(n,Uint8Array),r.STATIC_DRAW),this.vertices=t,this.cells=n}},{key:"setProgram",value:function(e,t){var n=this;function r(e,t){var n=t.target.getBoundingClientRect(),r=n.left,o=n.top,a=t.changedTouches?t.changedTouches[0]:t,s=a.clientX,c=a.clientY;return[(s-r)*e.width/e.clientWidth,(1-(c-o)/e.clientHeight)*e.height]}this[Y]&&(window.cancelAnimationFrame(this[Y]),delete this[Y]),Object.entries(this[N]).forEach(function(e){var t=o()(e,2),r=t[0],a=t[1];a&&("keydown"===r||"keyup"===r?document.removeEventListener(r,a):n.canvas.removeEventListener(r,a))}),this.clearTextures(),this.deleteProgram(),this[X]=!1,this[H]=!1;var a=this.canvas;/^\s*uniform\s+sampler2D\s+dd_samplerFeedback/gm.test(e)&&this.setFeebackContext(),/^\s*uniform\s+\w+\s+dd_click/gm.test(e)&&(this[N].click=function(e){var t=r(a,e),s=o()(t,2),c=s[0],i=s[1];n.uniforms.dd_click=[c,i,-1]},this.canvas.addEventListener("click",this[N].click)),/^\s*uniform\s+\w+\s+dd_mouse/gm.test(e)&&(this[N].mousemove=function(e){var t=r(a,e),s=o()(t,2),c=s[0],i=s[1],d=o()(n.uniforms.dd_mousePosition,2),l=d[0],u=d[1];l>=0&&u>=0&&(n.uniforms.dd_mouseDelta=[c-l,i-u]),n.uniforms.dd_mousePosition=[c,i]},this[N].mouseleave=function(e){n.uniforms.dd_mousePosition=[-1,-1],n.uniforms.dd_mouseDelta=[-1,-1]},this[N].mousedown=function(e){n.uniforms.dd_mouseButtons=e.buttons,n.uniforms.dd_mouseDown=[e.buttons,-1]},this[N].mouseup=function(e){n.uniforms.dd_mouseButtons=0,0===e.button?n.uniforms.dd_mouseUp=1:2===e.button?n.uniforms.dd_mouseUp=2:1===e.button&&(n.uniforms.dd_mouseUp=4)},this.canvas.addEventListener("mousemove",this[N].mousemove),this.canvas.addEventListener("mouseleave",this[N].mouseleave),this.canvas.addEventListener("mousedown",this[N].mousedown),this.canvas.addEventListener("mouseup",this[N].mouseup)),/^\s*uniform\s+\w+\s+dd_touch/gm.test(e)&&(this[N].touchstart=function(e){var t=r(a,e),s=o()(t,2),c=s[0],i=s[1];n.uniforms.dd_touchPosition=[c,i],n.uniforms.dd_touchStart=[c,i,-1]},this[N].touchend=function(e){var t=r(a,e),s=o()(t,2),c=s[0],i=s[1];n.uniforms.dd_touchPosition=[-1,-1],n.uniforms.dd_touchEnd=[c,i,-1]},this[N].touchmove=function(e){var t=r(a,e),s=o()(t,2),c=s[0],i=s[1];n.uniforms.dd_touchPosition=[c,i]},this.canvas.addEventListener("touchstart",this[N].touchstart),this.canvas.addEventListener("touchend",this[N].touchend),this.canvas.addEventListener("touchmove",this[N].touchmove)),/^\s*uniform\s+\w+\s+dd_key/gm.test(e)&&(this[N].keydown=function(e){n.uniforms.dd_keyCode=e.keyCode,n.uniforms.dd_keyDown=[e.keyCode,-1]},this[N].keyup=function(e){n.uniforms.dd_keyUp=[e.keyCode,-1],n.uniforms.dd_keyCode=-1},document.addEventListener("keydown",this[N].keydown),document.addEventListener("keyup",this[N].keyup),this[H]=!0),/^\s*uniform\s+\w+\s+dd_(time|randseed(?!0)|frameIndex|mouse|touch|click|key)/gm.test(e)&&(this[H]=!0);var s=this[X]||this.textures&&this.textures.length;null==e&&(e=y.a),null==t&&(t=s?D.a:_.a),this.fragmentShader=e,this.vertexShader=t;var c=this.gl,d=Object(b.createProgram)(c,t,e);c.useProgram(d),this.program=d,this.clip({vertices:this.vertices,cells:this.cells}),this.uniforms={},this.declareUniforms({dd_time:"1f",dd_randseed0:"2f",dd_randseed:"2f",dd_resolution:"2f",dd_frameIndex:"1i",dd_samplerFeedback:"1i",dd_mousePosition:"2f",dd_mouseDelta:"2f",dd_mouseButtons:"1i",dd_mouseDown:"2f",dd_mouseUp:"2f",dd_keyCode:"1i",dd_keyDown:"2f",dd_keyUp:"2f",dd_click:"3f",dd_touchPosition:"2f",dd_touchStart:"3f",dd_touchEnd:"3f"}),this.uniforms.dd_time=0,this.uniforms.dd_randseed0=[Math.random(),Math.random()],this.uniforms.dd_randseed=this.uniforms.dd_randseed0,this.uniforms.dd_frameIndex=0,this.uniforms.dd_resolution=[c.canvas.width,c.canvas.height],this.uniforms.dd_samplerFeedback=0,this.uniforms.dd_mousePosition=[-1,-1],this.uniforms.dd_mouseButtons=0,this.uniforms.dd_mouseDown=[0,-1],this.uniforms.dd_mouseUp=[0,-1],this.uniforms.dd_keyCode=0,this.uniforms.dd_keyDown=[0,-1],this.uniforms.dd_keyUp=[0,-1],this.uniforms.dd_click=[-1,-1,-1],this.uniforms.dd_touchPosition=[-1,-1],this.uniforms.dd_touchStart=[-1,-1,-1],this.uniforms.dd_touchEnd=[-1,-1,-1];for(var l=0;l<32;l++){var u="dd_sampler".concat(l);this.declareUniforms(p()({},u,"1i"))}var f=c.getAttribLocation(d,"a_position");c.vertexAttribPointer(f,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(f),this.program=d;var v=this.textures||[];return this[X]&&(v=[this.feedbackContext.canvas].concat(i()(v))),v.length&&(this[q]=this.bindTextures(v),this.setTextureCoordinate()),d}},{key:"compile",value:function(){var e=m()(s.a.mark(function e(t,n){var r,o,a,c,d,l,u,f;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=function(){return(a=m()(s.a.mark(function e(t){var n,a,c,i,d,l,u,f,v;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t.replace(/^\s*/gm,""),n=[],!(a=t.match(/^#pragma\s+include\s+.*/gm))){e.next=36;break}c=0;case 5:if(!(c<a.length)){e.next=35;break}if(i=a[c],!(d=i.match(/(?:<|")(.*)(?:>|")/))){e.next=32;break}if(l=0===d[0].indexOf("<")?"lib":"link","graph"===(u=d[1])&&(u="graphics"),r[u]){e.next=31;break}if(r[u]=!0,"lib"!==l){e.next=21;break}return e.next=17,o(G[u]);case 17:f=e.sent,n.push(f),e.next=29;break;case 21:if("link"!==l){e.next=29;break}return e.next=24,z(u);case 24:return v=e.sent,e.next=27,o(v);case 27:v=e.sent,n.push(v);case 29:e.next=32;break;case 31:n.push("/* included ".concat(u," */"));case 32:c++,e.next=5;break;case 35:n.forEach(function(e){t=t.replace(/^#pragma\s+include\s+.*/m,e)});case 36:return e.abrupt("return",t);case 37:case"end":return e.stop()}},e)}))).apply(this,arguments)},o=function(e){return a.apply(this,arguments)},r={},!(c=t.match(/^#pragma\s+texture\s+.*/gm))){e.next=9;break}return e.next=7,Promise.all(c.map(function(e){var t=e.match(/^#pragma\s+texture\s+(.*)/);return Object(b.loadImage)(t[1])}));case 7:d=e.sent,this.textures=this.textures?[].concat(i()(this.textures),i()(d)):d;case 9:return e.next=11,o(t);case 11:if(l=e.sent,!n){e.next=18;break}return e.next=15,o(n);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=null;case 19:return u=e.t0,f=this.setProgram(l,u),e.abrupt("return",f);case 22:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=m()(s.a.mark(function e(t){var n,r=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,e.next=3,z(t);case 3:if(t=e.sent,!n){e.next=8;break}return e.next=7,z(n);case 7:n=e.sent;case 8:return e.abrupt("return",this.compile(t,n));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"clearTextures",value:function(){var e=this.gl;this[q]&&(this[q].forEach(function(t){e.deleteTexture(t)}),this[q]=null)}},{key:"bindTextures",value:function(e){var t=this;return e.map(function(e,n){var r=t.gl;r.activeTexture(r.TEXTURE0+n);var o=r.createTexture();return r.bindTexture(r.TEXTURE_2D,o),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),t.renderFeedback?n>0&&(t.uniforms["dd_sampler".concat(n-1)]=n):t.uniforms["dd_sampler".concat(n)]=n,o})}},{key:"setTextureCoordinate",value:function(){var e=this.gl,t=this.vertices.map(function(e){return[.5*(e[0]+1),.5*(e[1]+1)]}),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,Object(b.pointsToBuffer)(t),e.STATIC_DRAW);var r=e.getAttribLocation(this.program,"a_vertexTextureCoord");e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0)}},{key:"loadTextures",value:function(){var e=m()(s.a.mark(function e(){var t,n,r,o,a=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];return o=n.map(b.loadImage),e.next=4,Promise.all(o);case 4:this.textures=e.sent;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"declareUniform",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1f",r=this.gl,o=r.getUniformLocation(this.program,e);n=n.replace(/^m/,"Matrix");var a=/v$/.test(n);Object.defineProperty(this.uniforms,e,{get:function(){return t},set:function(e){t=e,Array.isArray(e)||(e=[e]),a?r["uniform".concat(n)](o,e):r["uniform".concat(n)].apply(r,[o].concat(i()(e)))},configurable:!1,enumerable:!0})}},{key:"declareUniforms",value:function(e){var t=this;Object.entries(e).forEach(function(e){var n=o()(e,2),r=n[0],a=n[1];t.declareUniform(r,a)})}},{key:"render",value:function(){var e=this.gl;if(this.program||this.setProgram(),this[X]){var t=this.feedbackContext;t.canvas.width=e.canvas.width,t.canvas.height=e.canvas.height,t.drawImage(e.canvas,0,0),this.bindTextures([this.feedbackContext.canvas])}this.startTime||(this.startTime=Date.now());var n=(Date.now()-this.startTime)/1e3;this.uniforms.dd_randseed=[Math.random(),Math.random()];var r=o()(this.uniforms.dd_click,3),a=r[0],s=r[1],c=r[2];a>=0&&c<0&&(this.uniforms.dd_click=[a,s,n]);var i=o()(this.uniforms.dd_mouseDown,2);a=i[0],c=i[1],a>0&&c<0&&(this.uniforms.dd_mouseDown=[a,n]);var d=o()(this.uniforms.dd_mouseUp,2);a=d[0],c=d[1],a>0&&c<0&&(this.uniforms.dd_mouseUp=[a,n]);var l=o()(this.uniforms.dd_keyDown,2);a=l[0],c=l[1],a>0&&c<0&&(this.uniforms.dd_keyDown=[a,n]);var u=o()(this.uniforms.dd_keyUp,2);a=u[0],c=u[1],a>0&&c<0&&(this.uniforms.dd_keyUp=[a,n]);var f=o()(this.uniforms.dd_touchStart,3);a=f[0],s=f[1],c=f[2],a>0&&c<0&&(this.uniforms.dd_touchStart=[a,s,n]);var v=o()(this.uniforms.dd_touchEnd,3);a=v[0],s=v[1],c=v[2],a>0&&c<0&&(this.uniforms.dd_touchEnd=[a,s,n]),this.uniforms.dd_time=n,e.clear(e.COLOR_BUFFER_BIT),e.drawElements(e.TRIANGLES,3*this.cells.length,e.UNSIGNED_BYTE,0),this.uniforms.dd_frameIndex++,this[H]&&(this[Y]=window.requestAnimationFrame(this.render.bind(this)))}},{key:"renderFeedback",get:function(){return this[X]}},{key:"autoUpdate",get:function(){return this[H]}}]),e}();p()(V,"uniformTypes",{"1f":"1f","2f":"2f","3f":"3f","4f":"4f","1i":"1i","2i":"2i","3i":"3i","4i":"4i","1fv":"1fv","2fv":"2fv","3fv":"3fv","4fv":"4fv","1iv":"1iv","2iv":"2iv","3iv":"3iv","4iv":"4iv",m2fv:"Matrix2fv",m3fv:"Matrix3fv",m4fv:"Matrix4fv"}),p()(V,"defaultOptions",{preserveDrawingBuffer:!0})},function(e,t,n){var r=n(3),o=n(4),a=n(5);e.exports=function(e,t){return r(e)||o(e,t)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,c=e[Symbol.iterator]();!(r=(s=c.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(i){o=!0,a=i}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports=n(7)},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function i(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),s=new U(r||[]);return a._invoke=function(e,t,n){var r=l;return function(o,a){if(r===f)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw a;return A()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var c=k(s,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var i=d(e,t,n);if("normal"===i.type){if(r=n.done?v:u,i.arg===p)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(r=v,n.method="throw",n.arg=i.arg)}}}(e,n,s),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=i;var l="suspendedStart",u="suspendedYield",f="executing",v="completed",p={};function h(){}function m(){}function b(){}var g={};g[a]=function(){return this};var _=Object.getPrototypeOf,x=_&&_(_(O([])));x&&x!==n&&r.call(x,a)&&(g=x);var y=b.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function D(e){var t;this._invoke=function(n,o){function a(){return new Promise(function(t,a){!function t(n,o,a,s){var c=d(e[n],e,o);if("throw"!==c.type){var i=c.arg,l=i.value;return l&&"object"===typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,a,s)},function(e){t("throw",e,a,s)}):Promise.resolve(l).then(function(e){i.value=e,a(i)},function(e){return t("throw",e,a,s)})}s(c.arg)}(n,o,t,a)})}return t=t?t.then(a,a):a()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=d(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function O(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=y.constructor=b,b.constructor=m,b[c]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(D.prototype),D.prototype[s]=function(){return this},e.AsyncIterator=D,e.async=function(t,n,r,o){var a=new D(i(t,n,r,o));return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},w(y),y[c]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var s=this.tryEntries[a],c=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var i=r.call(s,"catchLoc"),d=r.call(s,"finallyLoc");if(i&&d){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(9),o=n(10),a=n(11);e.exports=function(e){return r(e)||o(e)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e,t,n,r,o,a,s){try{var c=e[a](s),i=c.value}catch(d){return void n(d)}c.done?t(i):Promise.resolve(i).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,a){var s=e.apply(t,r);function c(e){n(s,o,a,c,i,"next",e)}function i(e){n(s,o,a,c,i,"throw",e)}c(void 0)})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"setupWebGL",function(){return a}),n.d(t,"createProgram",function(){return s}),n.d(t,"pointsToBuffer",function(){return c}),n.d(t,"loadImage",function(){return i});var r='This page requires a browser that supports WebGL.<br/>\n<a href="http://get.webgl.org">Click here to upgrade your browser.</a>',o='It doesn\'t appear your computer can support WebGL.<br/>\n<a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>';function a(e,t){function n(t){var n=e.parentNode;n&&(n.innerHTML='<table style="background-color: #8CE; width: 100%; height: 100%;"><tr>\n    <td align="center">\n    <div style="display: table-cell; vertical-align: middle;">\n    <div>'.concat(t,"</div>\n    </div>\n    </td></tr></table>"))}if(!window.WebGLRenderingContext)return n(r),null;var a=function(e,t){for(var n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=null,o=0;o<n.length;++o){try{r=e.getContext(n[o],t)}catch(a){}if(r)break}return r}(e,t);return a||n(o),a}function s(e,t,n){var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var o="Vertex shader failed to compile.  The error log is:".concat(e.getShaderInfoLog(r));return console.error(o),-1}var a=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var s="Fragment shader failed to compile.  The error log is:".concat(e.getShaderInfoLog(a));return console.error(s),-1}var c=e.createProgram();if(e.attachShader(c,r),e.attachShader(c,a),e.linkProgram(c),!e.getProgramParameter(c,e.LINK_STATUS)){var i="Shader program failed to link.  The error log is:".concat(e.getProgramInfoLog(c));return console.error(i),-1}return c}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float32Array,n=e[0].length,r=e.length,o=new t(n*r),a=0,s=0;s<r;s++)for(var c=0;c<n;c++)o[a++]=e[s][c];return o}function i(e){var t=new Image;return t.crossOrigin="anonymous",new Promise(function(n){t.onload=function(){n(t)},t.src=e})}},function(e,t){e.exports="attribute vec4 a_position;\nvoid main() {\n\tgl_PointSize = 1.0;\n\tgl_Position = a_position;\n}\n"},function(e,t){e.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\nvoid main() {\n\tgl_FragColor = vec4(0.0, 0.0, 0.0, 0.1);\n}\n"},function(e,t){e.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\nattribute vec4 a_position;\nattribute vec2 a_vertexTextureCoord;\nvarying vec2 vTextureCoord;\nvoid main() {\n\tgl_PointSize = 1.0;\n\tgl_Position = a_position;\n\tvTextureCoord = a_vertexTextureCoord;\n}\n"},function(e,t){e.exports="#ifndef M_STDLIB\n#define M_STDLIB\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n#ifndef FLT_EPSILON\n#define FLT_EPSILON 0.000001\n#endif\nfloat atan2(float dy, float dx) {\n\tfloat ax = abs(dx);\n\tfloat ay = abs(dy);\n\tfloat a = min(ax, ay) / (max(ax, ay) + FLT_EPSILON);\n\tfloat s = a * a;\n\tfloat r = ((((((-0.0464964749 * s) + 0.15931422) * s) - 0.327622764) * s) * a) + a;\n\tif (ay > ax)\n\t\tr = 1.57079637 - r;\n\tif (dx < 0.0)\n\t\tr = PI - r;\n\tif (dy < 0.0)\n\t\tr = -r;\n\treturn r;\n}\nfloat atan2(vec2 v) {\n\treturn atan2(v.y, v.x);\n}\nfloat angle(vec2 v1, vec2 v2) {\n\tfloat ang = atan2(v1) - atan2(v2);\n\tif (ang < 0.0)\n\t\tang += (2.0 * PI);\n\treturn ang;\n}\nfloat angle(vec2 v) {\n\treturn angle(v, vec2(1.0, 0.0));\n}\nvec2 center(vec2 v) {\n\treturn v * 0.5;\n}\nvec2 center(vec2 v1, vec2 v2) {\n\treturn (v1 + v2) * 0.5;\n}\nhighp float random(vec2 co) {\n\thighp float a = 12.9898;\n\thighp float b = 78.233;\n\thighp float c = 43758.5453;\n\thighp float dt = dot(co.xy, vec2(a, b));\n\thighp float sn = mod(dt, 3.14);\n\treturn fract(sin(sn) * c);\n}\nhighp float random(vec2 st, float a, float b) {\n\thighp float p = random(st);\n\treturn mix(a, b, p);\n}\nhighp vec2 random2(vec2 st) {\n\thighp vec2 v = vec2(dot(st, vec2(127.1, 311.7)), dot(st, vec2(269.5, 183.3)));\n\treturn -1.0 + (2.0 * fract(sin(v) * 43758.5453123));\n}\nhighp vec3 random3(vec2 st) {\n\thighp vec3 v = vec3(random2(st), random(st));\n\treturn v;\n}\nhighp float noise(vec2 st) {\n\tvec2 i = floor(st);\n\tvec2 f = fract(st);\n\tvec2 u = (f * f) * (3.0 - (2.0 * f));\n\treturn mix(mix(random(i + vec2(0.0, 0.0)), random(i + vec2(1.0, 0.0)), u.x), mix(random(i + vec2(0.0, 1.0)), random(i + vec2(1.0, 1.0)), u.x), u.y);\n}\nvec2 polar(vec2 st, vec2 c) {\n\tvec2 p = c - st;\n\tfloat r = length(p) * 2.0;\n\tfloat a = atan(p.y, p.x);\n\treturn vec2(r, a);\n}\nvec2 polar(vec2 st) {\n\treturn polar(st, vec2(0.5));\n}\n#endif\n"},function(e,t){e.exports="#ifndef MOD_SHAPES\n#define MOD_SHAPES\nUDF shape_blade(vec2 st, vec2 center, float num) {\n\tvec2 pt = polar(st, vec2(center));\n\tfloat x = pt.x;\n\tfloat y = cos(pt.y * num);\n\treturn smoothstep(x - 0.01, x + 0.01, y);\n}\nUDF shape_blade3(vec2 st, vec2 center) {\n\treturn shape_blade(st, center, 3.0);\n}\nUDF shape_blade3(vec2 st) {\n\treturn shape_blade(st, vec2(0.5), 3.0);\n}\nUDF shape_blade4(vec2 st, vec2 center) {\n\treturn shape_blade(st, center, 4.0);\n}\nUDF shape_blade4(vec2 st) {\n\treturn shape_blade(st, vec2(0.5), 4.0);\n}\nUDF shape_blade5(vec2 st, vec2 center) {\n\treturn shape_blade(st, center, 5.0);\n}\nUDF shape_blade5(vec2 st) {\n\treturn shape_blade(st, vec2(0.5), 5.0);\n}\nUDF shape_infinity(vec2 st, vec2 center) {\n\treturn shape_blade(st, center, 2.0);\n}\nUDF shape_infinity(vec2 st) {\n\treturn shape_blade(st, vec2(0.5), 2.0);\n}\nUDF shape_clover(vec2 st, vec2 center, float num) {\n\tvec2 pt = polar(st, vec2(center));\n\tfloat x = pt.x;\n\tfloat y = abs(cos((pt.y * num) * 0.5));\n\treturn smoothstep(x - 0.01, x + 0.01, y);\n}\nUDF shape_bean(vec2 st, vec2 center) {\n\treturn shape_clover(st, center, 1.0);\n}\nUDF shape_bean(vec2 st) {\n\treturn shape_clover(st, vec2(0.5), 1.0);\n}\nUDF shape_apple(vec2 st, vec2 center) {\n\treturn shape_clover(vec2(st.y - 0.2, st.x), center, 1.3);\n}\nUDF shape_apple(vec2 st) {\n\treturn shape_clover(vec2(st.y - 0.2, st.x), vec2(0.5), 1.3);\n}\nUDF shape_clover3(vec2 st, vec2 center) {\n\treturn shape_clover(st, center, 3.0);\n}\nUDF shape_clover3(vec2 st) {\n\treturn shape_clover(st, vec2(0.5), 3.0);\n}\nUDF shape_clover4(vec2 st, vec2 center) {\n\treturn shape_clover(st, center, 4.0);\n}\nUDF shape_clover4(vec2 st) {\n\treturn shape_clover(st, vec2(0.5), 4.0);\n}\nUDF shape_clover5(vec2 st, vec2 center) {\n\treturn shape_clover(st, center, 5.0);\n}\nUDF shape_clover5(vec2 st) {\n\treturn shape_clover(st, vec2(0.5), 5.0);\n}\nUDF shape_flower(vec2 st, vec2 center, float num) {\n\tvec2 pt = polar(st, vec2(center));\n\tfloat x = pt.x;\n\tfloat y = (abs(cos((pt.y * num) * 0.5)) * 0.5) + 0.3;\n\treturn smoothstep(x - 0.01, x + 0.01, y);\n}\nUDF shape_gourd(vec2 st, vec2 center) {\n\treturn shape_flower(vec2(st.y, st.x), center, 1.7);\n}\nUDF shape_gourd(vec2 st) {\n\treturn shape_flower(vec2(st.y, st.x), vec2(0.5), 1.7);\n}\nUDF shape_flower3(vec2 st, vec2 center) {\n\treturn shape_flower(st, center, 3.0);\n}\nUDF shape_flower3(vec2 st) {\n\treturn shape_flower(st, vec2(0.5), 3.0);\n}\nUDF shape_flower4(vec2 st, vec2 center) {\n\treturn shape_flower(st, center, 4.0);\n}\nUDF shape_flower4(vec2 st) {\n\treturn shape_flower(st, vec2(0.5), 4.0);\n}\nUDF shape_flower5(vec2 st, vec2 center) {\n\treturn shape_flower(st, center, 5.0);\n}\nUDF shape_flower5(vec2 st) {\n\treturn shape_flower(st, vec2(0.5), 5.0);\n}\nUDF shape_bud(vec2 st, vec2 center, float num) {\n\tvec2 pt = polar(st, vec2(center));\n\tfloat x = pt.x;\n\tfloat y = (smoothstep(-0.5, 1.0, cos(pt.y * num)) * 0.2) + 0.5;\n\treturn smoothstep(x - 0.01, x + 0.01, y);\n}\nUDF shape_bud5(vec2 st, vec2 center) {\n\treturn shape_bud(st, center, 5.0);\n}\nUDF shape_bud5(vec2 st) {\n\treturn shape_bud(st, vec2(0.5), 5.0);\n}\nUDF shape_bud8(vec2 st, vec2 center) {\n\treturn shape_bud(st, center, 8.0);\n}\nUDF shape_bud8(vec2 st) {\n\treturn shape_bud(st, vec2(0.5), 8.0);\n}\nUDF shape_bud10(vec2 st, vec2 center) {\n\treturn shape_bud(st, center, 10.0);\n}\nUDF shape_bud10(vec2 st) {\n\treturn shape_bud(st, vec2(0.5), 10.0);\n}\nUDF shape_bud12(vec2 st, vec2 center) {\n\treturn shape_bud(st, center, 12.0);\n}\nUDF shape_bud12(vec2 st) {\n\treturn shape_bud(st, vec2(0.5), 12.0);\n}\nUDF shape_star(vec2 st, vec2 center) {\n\tfloat r = 0.45;\n\tfloat d = regular_polygon(st, center, r, 5);\n\tfloat a = (-2.0 * PI) / 5.0;\n\td = fill(d, 0.01);\n\tvec2 v0 = vec2(0, r);\n\tfor (int i = 0; i < 5; i++) {\n\t\tvec2 v1 = rotate(v0, float(i) * a);\n\t\tvec2 v2 = rotate(v0, float(i + 1) * a);\n\t\tfloat l = length(v2 - v1);\n\t\tfloat c = 0.5 / cos(PI / 5.0);\n\t\tvec2 p = rotate(v2, v1, -PI / 5.0);\n\t\tp += ((1.0 - c) * (v1 - p));\n\t\tfloat d2 = sdf_triangle(st - center, v1, v2, p);\n\t\td2 = fill(d2, 0.01);\n\t\td = udf_complement(d, d2);\n\t}\n\treturn d;\n}\nUDF shape_regular_polygon(vec2 st, vec2 center, const int edges) {\n\tfloat d = regular_polygon(st, center, 0.45, edges);\n\treturn fill(d, 0.01);\n}\nUDF shape_star(vec2 st) {\n\treturn shape_star(st, vec2(0.5));\n}\nUDF shape_triangle(vec2 st, vec2 center) {\n\treturn shape_regular_polygon(st, center, 3);\n}\nUDF shape_triangle(vec2 st) {\n\treturn shape_regular_polygon(st, vec2(0.5), 3);\n}\nUDF shape_rhombus(vec2 st, vec2 center) {\n\treturn shape_regular_polygon(st, center, 4);\n}\nUDF shape_rhombus(vec2 st) {\n\treturn shape_regular_polygon(st, vec2(0.5), 4);\n}\nUDF shape_pentagon(vec2 st, vec2 center) {\n\treturn shape_regular_polygon(st, center, 5);\n}\nUDF shape_pentagon(vec2 st) {\n\treturn shape_regular_polygon(st, vec2(0.5), 5);\n}\nUDF shape_hexagon(vec2 st, vec2 center) {\n\treturn shape_regular_polygon(st, center, 6);\n}\nUDF shape_hexagon(vec2 st) {\n\treturn shape_regular_polygon(st, vec2(0.5), 6);\n}\nUDF shape_heptagon(vec2 st, vec2 center) {\n\treturn shape_regular_polygon(st, center, 7);\n}\nUDF shape_heptagon(vec2 st) {\n\treturn shape_regular_polygon(st, vec2(0.5), 7);\n}\nUDF shape_octagon(vec2 st, vec2 center) {\n\treturn shape_regular_polygon(st, center, 8);\n}\nUDF shape_octagon(vec2 st) {\n\treturn shape_regular_polygon(st, vec2(0.5), 8);\n}\nUDF shape_hypocycloid(vec2 st, vec2 center, const int edges) {\n\tfloat d = regular_polygon(st, center, 0.45, edges, true);\n\treturn fill(d, 0.01);\n}\nUDF shape_hypocycloid(vec2 st, const int edges) {\n\treturn shape_hypocycloid(st, vec2(0.5), edges);\n}\nUDF shape_cross(vec2 st, vec2 center, float w, float h) {\n\tvec2 p1 = center - (0.5 * vec2(w, h));\n\tvec2 p2 = center - (0.5 * vec2(h, w));\n\tfloat d1 = sdf_rect(st, p1, w, h);\n\tfloat d2 = sdf_rect(st, p2, h, w);\n\treturn fill(udf_union(d1, d2), 0.01);\n}\nUDF shape_cross(vec2 st, vec2 center) {\n\treturn shape_cross(st, center, 0.8, 0.2);\n}\nUDF shape_cross(vec2 st, float w, float h) {\n\treturn shape_cross(st, vec2(0.5), w, h);\n}\nUDF shape_cross(vec2 st) {\n\treturn shape_cross(st, vec2(0.5), 0.8, 0.2);\n}\n#endif\n"},function(e,t){e.exports="#ifndef M_SHAPER\n#define M_SHAPER\nfloat quadratic_bezier(float x, float a, float b) {\n\tfloat epsilon = 0.00001;\n\ta = max(0.0, min(1.0, a));\n\tb = max(0.0, min(1.0, b));\n\tif (a == 0.5) {\n\t\ta += epsilon;\n\t}\n\tfloat om2a = 1.0 - (2.0 * a);\n\tfloat t = (sqrt((a * a) + (om2a * x)) - a) / om2a;\n\tfloat y = ((1.0 - (2.0 * b)) * (t * t)) + ((2.0 * b) * t);\n\treturn y;\n}\nfloat slope_from_t(float t, float A, float B, float C) {\n\tfloat dtdx = 1.0 / (((((3.0 * A) * t) * t) + ((2.0 * B) * t)) + C);\n\treturn dtdx;\n}\nfloat x_from_t(float t, float A, float B, float C, float D) {\n\tfloat x = (((A * ((t * t) * t)) + (B * (t * t))) + (C * t)) + D;\n\treturn x;\n}\nfloat y_from_t(float t, float E, float F, float G, float H) {\n\tfloat y = (((E * ((t * t) * t)) + (F * (t * t))) + (G * t)) + H;\n\treturn y;\n}\nfloat cubic_bezier(float x, float a, float b, float c, float d) {\n\tfloat y0a = 0.00;\n\tfloat x0a = 0.00;\n\tfloat y1a = b;\n\tfloat x1a = a;\n\tfloat y2a = d;\n\tfloat x2a = c;\n\tfloat y3a = 1.00;\n\tfloat x3a = 1.00;\n\tfloat A = ((x3a - (3.0 * x2a)) + (3.0 * x1a)) - x0a;\n\tfloat B = ((3.0 * x2a) - (6.0 * x1a)) + (3.0 * x0a);\n\tfloat C = (3.0 * x1a) - (3.0 * x0a);\n\tfloat D = x0a;\n\tfloat E = ((y3a - (3.0 * y2a)) + (3.0 * y1a)) - y0a;\n\tfloat F = ((3.0 * y2a) - (6.0 * y1a)) + (3.0 * y0a);\n\tfloat G = (3.0 * y1a) - (3.0 * y0a);\n\tfloat H = y0a;\n\tfloat currentt = x;\n\tconst int nRefinementIterations = 5;\n\tfor (int i = 0; i < nRefinementIterations; i++) {\n\t\tfloat currentx = x_from_t(currentt, A, B, C, D);\n\t\tfloat currentslope = slope_from_t(currentt, A, B, C);\n\t\tcurrentt -= ((currentx - x) * currentslope);\n\t\tcurrentt = clamp(currentt, 0.0, 1.0);\n\t}\n\tfloat y = y_from_t(currentt, E, F, G, H);\n\treturn y;\n}\n#endif\n"},function(e,t){e.exports="#ifndef MOD_BOX\n#define MOD_BOX\nstruct box2 {\n\tvec2 a;\n\tvec2 b;\n\tvec2 c;\n\tvec2 d;\n};\nvec2 center(box2 box) {\n\treturn (box.a + box.c) * 0.5;\n}\nbox2 create_box(vec2 point, float w, float h, vec2 anchor) {\n\tvec2 size = vec2(w, h);\n\tvec2 a = point + (size * (vec2(0.0) - anchor));\n\tvec2 b = point + (size * (vec2(1.0, 0.0) - anchor));\n\tvec2 c = point + (size * (vec2(1.0) - anchor));\n\tvec2 d = point + (size * (vec2(0.0, 1.0) - anchor));\n\treturn box2(a, b, c, d);\n}\nbox2 create_box(vec2 point, float w, float h) {\n\treturn create_box(point, w, h, vec2(0.0));\n}\nbox2 create_box(vec2 point, float wh) {\n\treturn create_box(point, wh, wh, vec2(0.0));\n}\nbox2 create_box(float w, float h) {\n\treturn create_box(vec2(0.0), w, h, vec2(0.0));\n}\nbox2 create_box(float wh) {\n\treturn create_box(vec2(0.0), wh, wh, vec2(0.0));\n}\nbox2 create_box() {\n\treturn create_box(vec2(0.0), 1.0, 1.0, vec2(0.0));\n}\nvec2 box_quad(vec2 p, box2 box) {\n\tvec2 a = box.a;\n\tvec2 b = box.b;\n\tvec2 c = box.c;\n\tvec2 d = box.d;\n\tfloat d1 = sdf_line(p, a, b);\n\tfloat d2 = sdf_line(p, b, c);\n\tfloat d3 = sdf_line(p, c, d);\n\tfloat d4 = sdf_line(p, d, a);\n\tif (((((d1 >= 0.0) && (d2 >= 0.0)) && (d3 >= 0.0)) && (d4 >= 0.0)) || ((((d1 <= 0.0) && (d2 <= 0.0)) && (d3 <= 0.0)) && (d4 <= 0.0))) {\n\t\tvec2 v1 = b - a;\n\t\tvec2 v2 = d - a;\n\t\tvec2 vp = p - a;\n\t\tfloat l1 = length(v1);\n\t\tfloat l2 = length(v2);\n\t\tfloat p1 = dot(vp, v1) / l1;\n\t\tfloat p2 = dot(vp, v2) / l2;\n\t\tfloat ang = angle(v2, v1);\n\t\tfloat x = p1 - (abs(d1) / tan(ang));\n\t\tfloat y = p2 - (abs(d4) / tan(ang));\n\t\tx /= l1;\n\t\ty /= l2;\n\t\treturn vec2(x, y);\n\t}\n\treturn vec2(-1.0);\n}\nbox2 transform(box2 box, mat3 matrix) {\n\treturn box2(transform(box.a, matrix), transform(box.b, matrix), transform(box.c, matrix), transform(box.d, matrix));\n}\nbox2 translate(box2 box, vec2 xy) {\n\treturn box2(translate(box.a, xy), translate(box.b, xy), translate(box.c, xy), translate(box.d, xy));\n}\nbox2 scale(box2 box, vec2 origin, vec2 scaleXY) {\n\treturn box2(scale(box.a, origin, scaleXY), scale(box.b, origin, scaleXY), scale(box.c, origin, scaleXY), scale(box.d, origin, scaleXY));\n}\nbox2 scale(box2 box, vec2 scaleXY) {\n\treturn box2(scale(box.a, scaleXY), scale(box.b, scaleXY), scale(box.c, scaleXY), scale(box.d, scaleXY));\n}\nbox2 rotate(box2 box, vec2 origin, float ang) {\n\treturn box2(rotate(box.a, origin, ang), rotate(box.b, origin, ang), rotate(box.c, origin, ang), rotate(box.d, origin, ang));\n}\nbox2 rotate(box2 box, float ang) {\n\treturn box2(rotate(box.a, ang), rotate(box.b, ang), rotate(box.c, ang), rotate(box.d, ang));\n}\nbox2 skew(box2 box, vec2 origin, vec2 skewXY) {\n\treturn box2(skew(box.a, origin, skewXY), skew(box.b, origin, skewXY), skew(box.c, origin, skewXY), skew(box.d, origin, skewXY));\n}\nbox2 skew(box2 box, vec2 skewXY) {\n\treturn box2(skew(box.a, skewXY), skew(box.b, skewXY), skew(box.c, skewXY), skew(box.d, skewXY));\n}\n#endif\n"},function(e,t){e.exports="#ifndef MOD_TRANSFORM\n#define MOD_TRANSFORM\nvec2 transform(vec2 v0, mat3 matrix) {\n\treturn vec2(matrix * vec3(v0, 1.0));\n}\nvec2 translate(vec2 v0, vec2 xy) {\n\tmat3 m = mat3(1, 0, 0, 0, 1, 0, xy.x, xy.y, 1);\n\treturn transform(v0, m);\n}\nvec2 scale(vec2 v0, vec2 origin, vec2 scale) {\n\tmat3 m = mat3(scale.x, 0, 0, 0, scale.y, 0, 0, 0, 1);\n\treturn transform(v0 - origin, m) + origin;\n}\nvec2 scale(vec2 v0, vec2 scaleXY) {\n\treturn scale(v0, vec2(0.0), scaleXY);\n}\nvec2 rotate(vec2 v0, vec2 origin, float ang) {\n\tfloat sinA = sin(ang);\n\tfloat cosA = cos(ang);\n\tmat3 m = mat3(cosA, -sinA, 0, sinA, cosA, 0, 0, 0, 1);\n\treturn transform(v0 - origin, m) + origin;\n}\nvec2 rotate(vec2 v0, float ang) {\n\treturn rotate(v0, vec2(0.0), ang);\n}\nvec2 skew(vec2 v0, vec2 origin, vec2 skew) {\n\tmat3 m = mat3(1, tan(skew.y), 0, tan(skew.x), 1, 0, 0, 0, 1);\n\treturn transform(v0 - origin, m) + origin;\n}\nvec2 skew(vec2 v0, vec2 skewXY) {\n\treturn skew(v0, vec2(0.0), skewXY);\n}\n#endif\n"},function(e,t){e.exports="#ifndef M_GRAPH\n#define M_GRAPH\n#pragma include <stdlib>\n#pragma include <shaper>\n#pragma include <transform>\n#ifndef SDF\n#define SDF float\n#endif\n#ifndef UDF\n#define UDF float\n#endif\n#ifndef PLOT\n#define PLOT(f, st, step) sdf_plot(st, vec2(st.x - step, f(st.x - step)), vec2(st.x, f(st.x)), vec2(st.x + step, f(st.x + step)))\n#endif\n#ifndef SPRITE\n#define SPRITE(quad, f) if(quad.x >= 0.0 && quad.x <= 1.0) f(quad);\n#endif\nSDF sdf_line(vec2 p, vec2 v1, vec2 v2) {\n\tvec2 pd = p - v1;\n\tvec2 pd2 = p - v2;\n\tvec2 seg = v2 - v1;\n\treturn ((pd.x * seg.y) - (pd.y * seg.x)) / length(seg);\n}\nSDF sdf_line(vec2 p, vec2 v) {\n\treturn sdf_line(p, vec2(0), v);\n}\nSDF sdf_seg(vec2 p, vec2 v1, vec2 v2) {\n\tvec2 pd = p - v1;\n\tvec2 pd2 = p - v2;\n\tvec2 seg = v2 - v1;\n\tfloat l = length(seg);\n\tfloat d = abs((pd.x * seg.y) - (pd.y * seg.x)) / l;\n\tfloat proj = ((pd.x * seg.x) + (pd.y * seg.y)) / l;\n\tif ((proj >= 0.0) && (proj <= l))\n\t\treturn d;\n\treturn min(length(pd), length(pd2));\n}\nSDF sdf_seg(vec2 p, vec2 v) {\n\treturn sdf_seg(p, vec2(0), v);\n}\nSDF sdf_plot(vec2 p, vec2 v1, vec2 v2, vec2 v3) {\n\tfloat d1 = sdf_seg(p, v1, v2);\n\tfloat d2 = sdf_seg(p, v2, v3);\n\treturn min(d1, d2);\n}\nUDF stroke(SDF d, float d0, float w, float smth) {\n\tfloat th = 0.5 * w;\n\tsmth = smth * w;\n\tfloat start = d0 - th;\n\tfloat end = d0 + th;\n\treturn smoothstep(start, start + smth, d) - smoothstep(end - smth, end, d);\n}\nUDF stroke(SDF d, float w, float smth) {\n\treturn stroke(d, 0.0, w, smth);\n}\nUDF stroke(SDF d, float w) {\n\treturn stroke(d, 0.0, w, 0.0);\n}\nSDF sdf_triangle(vec2 st, vec2 a, vec2 b, vec2 c) {\n\tvec2 va = a - b;\n\tvec2 vb = b - c;\n\tvec2 vc = c - a;\n\tfloat d1 = sdf_line(st, a, b);\n\tfloat d2 = sdf_line(st, b, c);\n\tfloat d3 = sdf_line(st, c, a);\n\tfloat l = abs((va.x * vb.y) - (va.y * vb.x)) / ((length(va) + length(vb)) + length(vc));\n\tif ((((d1 >= 0.0) && (d2 >= 0.0)) && (d3 >= 0.0)) || (((d1 <= 0.0) && (d2 <= 0.0)) && (d3 <= 0.0))) {\n\t\treturn min(abs(d1), min(abs(d2), abs(d3))) / l;\n\t}\n\td1 = sdf_seg(st, a, b);\n\td2 = sdf_seg(st, b, c);\n\td3 = sdf_seg(st, c, a);\n\treturn -min(abs(d1), min(abs(d2), abs(d3))) / l;\n}\nSDF sdf_rect(vec2 st, vec2 p, float w, float h) {\n\tvec2 a = p;\n\tvec2 b = p + vec2(w, 0.0);\n\tvec2 c = p + vec2(w, h);\n\tvec2 d = p + vec2(0.0, h);\n\tfloat d1 = sdf_line(st, a, b);\n\tfloat d2 = sdf_line(st, b, c);\n\tfloat d3 = sdf_line(st, c, d);\n\tfloat d4 = sdf_line(st, d, a);\n\tfloat l = min(w, h) * 0.5;\n\tif (((((d1 >= 0.0) && (d2 >= 0.0)) && (d3 >= 0.0)) && (d4 >= 0.0)) || ((((d1 <= 0.0) && (d2 <= 0.0)) && (d3 <= 0.0)) && (d4 <= 0.0))) {\n\t\treturn min(abs(d1), min(abs(d2), min(abs(d3), abs(d4)))) / l;\n\t}\n\td1 = sdf_seg(st, a, b);\n\td2 = sdf_seg(st, b, c);\n\td3 = sdf_seg(st, c, d);\n\td4 = sdf_seg(st, d, a);\n\treturn -min(abs(d1), min(abs(d2), min(abs(d3), abs(d4)))) / l;\n}\nSDF sdf_circle(vec2 st, vec2 c, float r) {\n\treturn 1.0 - (length(st - c) / r);\n}\nSDF sdf_ellipse(vec2 st, vec2 c, float a, float b) {\n\tvec2 p = st - c;\n\treturn 1.0 - sqrt(pow(p.x / a, 2.0) + pow(p.y / b, 2.0));\n}\nSDF sdf_ellipse(vec2 st, vec2 c, float a, float b, float sAng, float eAng) {\n\tvec2 ua = vec2(cos(sAng), sin(sAng));\n\tvec2 ub = vec2(cos(eAng), sin(eAng));\n\tfloat d1 = sdf_line(st, c, ua + c);\n\tfloat d2 = sdf_line(st, c, ub + c);\n\tfloat d3 = sdf_ellipse(st, c, a, b);\n\tfloat r = min(a, b);\n\tvec2 v = st - c;\n\tfloat ang = angle(v, vec2(1.0, 0));\n\tif ((eAng - sAng) > (2.0 * PI)) {\n\t\treturn d3;\n\t}\n\tif ((ang >= sAng) && (ang <= eAng)) {\n\t\tfloat m = max(a, b);\n\t\tfloat d11 = sdf_seg(st, c, (ua * m) + c);\n\t\tfloat d12 = sdf_seg(st, c, (ub * m) + c);\n\t\tif (d3 >= 0.0) {\n\t\t\treturn min(abs(d11 / r), min(abs(d12 / r), d3));\n\t\t}\n\t\treturn d3;\n\t}\n\tfloat pa = dot(ua, v);\n\tfloat pb = dot(ub, v);\n\tif ((pa < 0.0) && (pb < 0.0)) {\n\t\treturn -length(st - c) / r;\n\t}\n\tif ((d1 > 0.0) && (pa >= 0.0)) {\n\t\tvec2 va = pa * ua;\n\t\tfloat da = pow(va.x / a, 2.0) + pow(va.y / b, 2.0);\n\t\tif ((d3 > 0.0) || (da <= pow(1.0 + abs(d1 / r), 2.0))) {\n\t\t\treturn -abs(d1 / r);\n\t\t}\n\t\telse {\n\t\t\treturn d3;\n\t\t}\n\t}\n\tif ((d2 < 0.0) && (pb >= 0.0)) {\n\t\tvec2 vb = pb * ub;\n\t\tfloat db = pow(vb.x / a, 2.0) + pow(vb.y / b, 2.0);\n\t\tif ((d3 >= 0.0) || (db <= pow(1.0 + abs(d2 / r), 2.0))) {\n\t\t\treturn -abs(d2 / r);\n\t\t}\n\t\telse {\n\t\t\treturn d3;\n\t\t}\n\t}\n}\nSDF sdf_arc(vec2 st, vec2 c, float r, float sAng, float eAng) {\n\treturn sdf_ellipse(st, c, r, r, sAng, eAng);\n}\nSDF sdf_rhombus(vec2 st, vec2 cr, float w, float h) {\n\tvec2 a = cr - vec2(0.5 * w, 0);\n\tvec2 b = cr - vec2(0, 0.5 * h);\n\tvec2 c = cr + vec2(0.5 * w, 0);\n\tvec2 d = cr + vec2(0, 0.5 * h);\n\tvec2 va = a - b;\n\tvec2 vb = b - c;\n\tvec2 vc = c - d;\n\tvec2 vd = d - a;\n\tfloat d1 = sdf_line(st, a, b);\n\tfloat d2 = sdf_line(st, b, c);\n\tfloat d3 = sdf_line(st, c, d);\n\tfloat d4 = sdf_line(st, d, a);\n\tfloat l = min(w, h) * 0.5;\n\tif (((((d1 >= 0.0) && (d2 >= 0.0)) && (d3 >= 0.0)) && (d4 >= 0.0)) || ((((d1 <= 0.0) && (d2 <= 0.0)) && (d3 <= 0.0)) && (d4 <= 0.0))) {\n\t\treturn min(abs(d1), min(abs(d2), min(abs(d3), abs(d4)))) / l;\n\t}\n\td1 = sdf_seg(st, a, b);\n\td2 = sdf_seg(st, b, c);\n\td3 = sdf_seg(st, c, d);\n\td4 = sdf_seg(st, d, a);\n\treturn -min(abs(d1), min(abs(d2), min(abs(d3), abs(d4)))) / l;\n}\nSDF regular_polygon(vec2 st, vec2 center, float r, float rotation, const int edges, bool hypocycloid) {\n\tvec2 p = st - center;\n\tvec2 v0 = vec2(0, r);\n\tv0 = rotate(v0, -rotation);\n\tfloat a = (2.0 * PI) / float(edges);\n\tfloat ang = angle(v0, p);\n\tang = floor(ang / a);\n\tvec2 v1 = rotate(v0, a * ang);\n\tvec2 v2 = rotate(v0, a * (ang + 1.0));\n\tfloat c_a = cos(0.5 * a);\n\tfloat l = r * c_a;\n\tfloat d = sdf_line(p, v1, v2);\n\tif (hypocycloid && (d >= 0.0)) {\n\t\tvec2 c = (v1 + v2) / 2.0;\n\t\tfloat r2 = r * tan(0.5 * a);\n\t\tvec2 ce = c / (c_a * c_a);\n\t\td = (distance(p, ce) - r2) / (length(ce) - r2);\n\t\treturn d;\n\t}\n\treturn d / l;\n}\nSDF regular_polygon(vec2 st, vec2 center, float r, float rotation, const int edges) {\n\treturn regular_polygon(st, center, r, rotation, edges, false);\n}\nSDF regular_polygon(vec2 st, vec2 center, float r, const int edges, bool hypocycloid) {\n\treturn regular_polygon(st, center, r, 0.0, edges, true);\n}\nSDF regular_polygon(vec2 st, vec2 center, float r, const int edges) {\n\treturn regular_polygon(st, center, r, 0.0, edges, false);\n}\nUDF fill(SDF d, float start, float end, float smth_start, float smth_end) {\n\tsmth_start = (end - start) * smth_start;\n\tsmth_end = (end - start) * smth_end;\n\treturn smoothstep(start, start + smth_start, d) - smoothstep(end - smth_end, end, d);\n}\nUDF fill(SDF d, float start, float end, float smth) {\n\treturn fill(d, start, end, smth, smth);\n}\nUDF fill(SDF d, float start, float smth) {\n\treturn fill(d, start, 1.0, smth, 0.0);\n}\nUDF fill(SDF d, float smth) {\n\treturn fill(d, 0.0, 1.0, smth, 0.0);\n}\nUDF fill(SDF d) {\n\treturn fill(d, 0.0, 1.0, 0.0, 0.0);\n}\nUDF udf_intersect(UDF d1, UDF d2) {\n\tif ((d1 > 0.0) && (d2 > 0.0)) {\n\t\treturn min(d1, d2);\n\t}\n\treturn 0.0;\n}\nUDF udf_union(UDF d1, UDF d2) {\n\tif ((d1 > 0.0) || (d2 > 0.0)) {\n\t\treturn max(d1, d2);\n\t}\n\treturn 0.0;\n}\nUDF udf_complement(UDF d1, UDF d2) {\n\tif (((d1 > 0.0) && (d2 == 0.0)) || ((d1 == 0.0) && (d2 > 0.0)))\n\t\treturn 1.0;\n\treturn 0.0;\n}\n#pragma include <box>\n#pragma include <shapes>\n#endif\n"},function(e,t){e.exports="#ifndef M_COLOR\n#define M_COLOR\n#ifndef UDF\n#define UDF float\n#endif\nvec3 rgb2hsb(vec3 c) {\n\tvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\tvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n\tvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\tfloat d = q.x - min(q.w, q.y);\n\tfloat e = 1.0e-10;\n\treturn vec3(abs(q.z + ((q.w - q.y) / ((6.0 * d) + e))), d / (q.x + e), q.x);\n}\nvec3 hsb2rgb(vec3 c) {\n\tvec3 rgb = clamp(abs(mod((c.x * 6.0) + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0);\n\trgb = (rgb * rgb) * (3.0 - (2.0 * rgb));\n\treturn c.z * mix(vec3(1.0), rgb, c.y);\n}\nvec4 rgba_color(int r, int g, int b, float a) {\n\treturn vec4(float(r / 255), float(g / 255), float(b / 255), a);\n}\nvec4 rgba_color(float r, float g, float b, float a) {\n\treturn vec4(r, g, b, a);\n}\nvec4 rgba_color(vec4 v) {\n\treturn v;\n}\nvec4 rgba_color(vec3 v, float a) {\n\treturn vec4(v, a);\n}\nvec4 rgb_color(int r, int g, int b) {\n\treturn rgba_color(r, g, b, 1.0);\n}\nvec4 rgb_color(float r, float g, float b) {\n\treturn rgba_color(r, g, b, 1.0);\n}\nvec4 rgb_color(vec3 v) {\n\treturn vec4(v, 1.0);\n}\nvec4 hsba_color(float h, float s, float b, float a) {\n\treturn vec4(hsb2rgb(vec3(h, s, b)), a);\n}\nvec4 hsba_color(vec4 v) {\n\treturn vec4(hsb2rgb(v.xyz), v.w);\n}\nvec4 hsba_color(vec3 v, float a) {\n\treturn vec4(hsb2rgb(v), a);\n}\nvec4 hsb_color(float h, float s, float b) {\n\treturn hsba_color(h, s, b, 1.0);\n}\nvec4 hsb_color(vec3 v) {\n\treturn hsba_color(v, 1.0);\n}\n#ifndef RGB\n#define RGB rgb_color\n#endif\n#ifndef RGBA\n#define RGBA rgba_color\n#endif\n#ifndef HSB\n#define HSB hsb_color\n#endif\n#ifndef HSBA\n#define HSBA hsba_color\n#endif\nvoid color(UDF d, vec4 c1, vec4 c2) {\n\tgl_FragColor = mix(c2, c1, d);\n}\nvoid color(UDF d, vec4 c1, vec3 c2) {\n\tcolor(d, c1, vec4(c2, 1.0));\n}\nvoid color(UDF d, vec3 c1, vec4 c2) {\n\tcolor(d, vec4(c1, 1.0), c2);\n}\nvoid color(UDF d, vec3 c1, vec3 c2) {\n\tcolor(d, vec4(c1, 1.0), vec4(c2, 1.0));\n}\nvoid color(UDF d, vec4 c) {\n\tcolor(d, c, gl_FragColor);\n}\nvoid color(UDF d, vec3 c) {\n\tcolor(d, vec4(c, 1.0), gl_FragColor);\n}\n#endif\n"},function(e,t){e.exports="#ifndef M_PATTERN\n#define M_PATTERN\nvec2 grid_xy(vec2 st, vec2 grid) {\n\treturn fract(st * grid);\n}\nvoid grid_overlap(vec2 st, vec2 grid, inout vec2 overlap[4]) {\n\tvec2 v = fract(st * grid);\n\toverlap[0] = v;\n\toverlap[1] = v - vec2(1.0, 0.0);\n\toverlap[2] = v - vec2(0.0, 1.0);\n\toverlap[3] = v - vec2(1.0, 1.0);\n}\nvec2 grid_index(vec2 st, vec2 grid) {\n\treturn floor(st * grid);\n}\nbool grid_odd_row(vec2 idx, vec2 grid) {\n\treturn mod(idx.y, 2.0) != 0.0;\n}\nbool grid_even_row(vec2 idx, vec2 grid) {\n\treturn mod(idx.y, 2.0) == 0.0;\n}\nbool grid_odd_col(vec2 idx, vec2 grid) {\n\treturn mod(idx.x, 2.0) != 0.0;\n}\nbool grid_even_col(vec2 idx, vec2 grid) {\n\treturn mod(idx.x, 2.0) == 0.0;\n}\nbool grid_odd(vec2 idx, vec2 grid) {\n\treturn ((mod(idx.x, 2.0) != 0.0) && (mod(idx.y, 2.0) == 0.0)) || ((mod(idx.x, 2.0) == 0.0) && (mod(idx.y, 2.0) != 0.0));\n}\nbool grid_even(vec2 idx, vec2 grid) {\n\treturn !grid_odd(idx, grid);\n}\n#ifndef OCTAVES\n#define OCTAVES 6\n#endif\nfloat mist(vec2 st) {\n\tfloat value = 0.0;\n\tfloat amplitude = 0.5;\n\tfloat frequency = 0.0;\n\tfor (int i = 0; i < OCTAVES; i++) {\n\t\tvalue += (amplitude * noise(st));\n\t\tst *= 2.0;\n\t\tamplitude *= 0.5;\n\t}\n\treturn value;\n}\nfloat juila_set(vec2 st, vec2 center, float dist, vec2 c, float scale) {\n\tconst int max_iterations = 255;\n\tvec2 uv = 2.5 * (st - center);\n\tint count = max_iterations;\n\tfor (int i = 0; i < max_iterations; i++) {\n\t\tuv = c + vec2((uv.x * uv.x) - (uv.y * uv.y), (uv.x * uv.y) * 2.0);\n\t\tif (dot(uv, uv) > 4.0) {\n\t\t\tcount = i;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn float(count) * scale;\n}\n#endif\n"}])},e.exports=r()}}]);
//# sourceMappingURL=index.27aeb7314dd74d9b0f85.js.map